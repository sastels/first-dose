(this["webpackJsonpfirst-dose"]=this["webpackJsonpfirst-dose"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),i=n(13),s=n.n(i),o=(n(18),n(19),n(7)),c=n.n(o),d=n(10),u=n(12),p=n(6),l=n.n(p),f=n(8),m=n.n(f),b=n(2),h=function(e,t,n){var a=e[t]||{},r=[];for(var i in a)if(null!==a[i]){var s=a[i];r.push([s.date,100*s.peopleVaccinated/n])}return r};var j=function(e){var t={plotOptions:{line:{marker:{enabled:!1}}},tooltip:{shared:!0,formatter:function(){var e=new Date(this.x),t=e.getTimezoneOffset(),n=(e=new Date(e.getTime()+60*t*1e3)).toISOString().split("T")[0]+"<br>";return n+=this.points.map((function(e){return"".concat(e.series.name,": ").concat(e.y.toFixed(1),"%")})).join("<br>")}},chart:{zoomType:"x"},title:{text:"First Dose Coverage"},xAxis:{type:"datetime"},yAxis:[{title:{text:"Percentage covered"}},{title:{text:" "},linkedTo:0,opposite:!0}],series:[{name:"Israel",data:h(e,"Israel",8652167)},{name:"United Kingdom",data:h(e,"United Kingdom",67893379)},{name:"United States",data:h(e,"United States",334438269)},{name:"Canada",data:h(e,"Canada",37746527)}]};return Object(b.jsx)(m.a,{highcharts:l.a,options:t})},x=function(e,t,n){var a=e[t]||{},r=[];for(var i in a)if(null!==a[i]){var s=a[i];r.push([s.date,100*s.peopleFullyVaccinated/n])}return r};var v=function(e){var t={plotOptions:{line:{marker:{enabled:!1}}},tooltip:{shared:!0,formatter:function(){var e=new Date(this.x),t=e.getTimezoneOffset(),n=(e=new Date(e.getTime()+60*t*1e3)).toISOString().split("T")[0]+"<br>";return n+=this.points.map((function(e){return"".concat(e.series.name,": ").concat(e.y.toFixed(1),"%")})).join("<br>")}},chart:{zoomType:"x"},title:{text:"Fully Vaccinated"},xAxis:{type:"datetime"},yAxis:[{title:{text:"Percentage covered"}},{title:{text:" "},linkedTo:0,opposite:!0}],series:[{name:"Israel",data:x(e,"Israel",8652167)},{name:"United Kingdom",data:x(e,"United Kingdom",67893379)},{name:"United States",data:x(e,"United States",334438269)},{name:"Canada",data:x(e,"Canada",37746527)}]};return Object(b.jsx)(m.a,{highcharts:l.a,options:t})},g=n(11);n(24);g.a.initializeApp({apiKey:"AIzaSyCYOlqH5i8Q_nN_5i91JvUY3qU4Blan9Uo",authDomain:"first-dose-eb9bd.firebaseapp.com",projectId:"first-dose-eb9bd",storageBucket:"first-dose-eb9bd.appspot.com",messagingSenderId:"212541290476",appId:"1:212541290476:web:03a13b63cb5280de87b2c9",measurementId:"G-2CY2T47KWQ"});var O=function(e){var t=null,n=e.Canada||{};for(var a in n)if(null!==n[a]){var r=n[a];t=t?Math.max(t,r.date):r.date}return(t=new Date(t)).toISOString().substring(0,10)};var y=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),s=Object(u.a)(i,2),o=s[0],p=s[1],l=function(){var e=Object(d.a)(c.a.mark((function e(){var t,n,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=g.a.storage(),n=t.ref(),e.next=4,n.child("munged_data.json").getDownloadURL();case 4:a=e.sent,(i=new XMLHttpRequest).responseType="json",i.onload=Object(d.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.response;case 2:t=e.sent,r(t),p(O(t));case 5:case"end":return e.stop()}}),e)}))),i.open("GET",a),i.send();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),Object(b.jsxs)("div",{className:"App",children:[j(n),v(n),Object(b.jsxs)("p",{children:[" Data last updated at ",o]})]})};var S=function(){return Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsx)("div",{style:{margin:50},className:"App",children:Object(b.jsx)(y,{})}),Object(b.jsxs)("p",{children:["Data from"," ",Object(b.jsx)("a",{href:"https://github.com/owid/covid-19-data",children:"Our World in Data"}),"."]}),Object(b.jsxs)("p",{children:["Code in ",Object(b.jsx)("a",{href:"https://github.com/sastels/first-dose",children:"Github"}),"."]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(S,{})}),document.getElementById("root")),w()}},[[23,1,2]]]);
//# sourceMappingURL=main.e9d66881.chunk.js.map