(this["webpackJsonpfirst-dose"]=this["webpackJsonpfirst-dose"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),s=n(12),i=n.n(s),c=(n(18),n(19),n(6)),o=n.n(c),d=n(9),u=n(11),p=n(8),l=n.n(p),f=n(13),b=n.n(f),h=n(10),j=(n(24),n(2));h.a.initializeApp({apiKey:"AIzaSyCYOlqH5i8Q_nN_5i91JvUY3qU4Blan9Uo",authDomain:"first-dose-eb9bd.firebaseapp.com",projectId:"first-dose-eb9bd",storageBucket:"first-dose-eb9bd.appspot.com",messagingSenderId:"212541290476",appId:"1:212541290476:web:03a13b63cb5280de87b2c9",measurementId:"G-2CY2T47KWQ"});var m=function(e,t,n){var a=e[t]||{},r=[];for(var s in a)if(null!==a[s]){var i=a[s];r.push([i.date,100*i.peopleVaccinated/n])}return r};function g(e){var t={plotOptions:{line:{marker:{enabled:!1}}},tooltip:{shared:!0,formatter:function(){var e=new Date(this.x),t=e.getTimezoneOffset(),n=(e=new Date(e.getTime()+60*t*1e3)).toISOString().split("T")[0]+"<br>";return n+=this.points.map((function(e){return"".concat(e.series.name,": ").concat(e.y.toFixed(1),"%")})).join("<br>")}},chart:{zoomType:"x"},title:{text:"First Dose Coverage"},xAxis:{type:"datetime"},yAxis:{title:{text:"Percentage covered"}},series:[{name:"Israel",data:m(e,"Israel",8652167)},{name:"United Kingdom",data:m(e,"United Kingdom",67893379)},{name:"United States",data:m(e,"United States",334438269)},{name:"Canada",data:m(e,"Canada",37746527)}]};return Object(j.jsx)(b.a,{highcharts:l.a,options:t})}var x=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),i=Object(u.a)(s,2),c=i[0],p=i[1],l=function(){var e=Object(d.a)(o.a.mark((function e(){var t,n,a,s,i,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.a.storage(),n=t.ref(),e.next=4,n.child("munged_data.json").getMetadata();case 4:return a=e.sent,s=a.updated.slice(0,10),p(s),e.next=9,n.child("munged_data.json").getDownloadURL();case 9:i=e.sent,(c=new XMLHttpRequest).responseType="json",c.onload=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.response;case 2:t=e.sent,r(t);case 4:case"end":return e.stop()}}),e)}))),c.open("GET",i),c.send();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){l()}),[]),Object(j.jsxs)("div",{className:"App",children:[g(n),Object(j.jsxs)("p",{children:[" Last updated at ",c]})]})};var v=function(){return Object(j.jsxs)("div",{style:{textAlign:"center"},children:[Object(j.jsx)("div",{style:{margin:50},className:"App",children:Object(j.jsx)(x,{})}),Object(j.jsx)("p",{children:"Percentage of people in a country who have had at least one dose of a Covid-19 vaccine."}),Object(j.jsxs)("p",{children:["Data from ",Object(j.jsx)("a",{href:"https://github.com/owid/covid-19-data",children:"Our World in Data"}),"."]}),Object(j.jsxs)("p",{children:["Code in ",Object(j.jsx)("a",{href:"https://github.com/sastels/first-dose",children:"Github"}),"."]})]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,25)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(v,{})}),document.getElementById("root")),O()}},[[23,1,2]]]);
//# sourceMappingURL=main.d987190a.chunk.js.map